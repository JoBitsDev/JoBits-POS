/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.jobits.pos.ui.configuracion;

import com.jobits.pos.controller.productos.impl.ProductoVentaListController;
import com.jobits.pos.servicios.impresion.ImpresoraRepoImpl;
import com.jobits.pos.servicios.impresion.ImpresoraUseCase;
import com.jobits.pos.ui.AbstractViewPanel;
import com.jobits.pos.ui.configuracion.presenter.ConfigurationViewPresenter;
import com.jobits.pos.ui.configuracion.presenter.ImportarExportarViewPresenter;
import com.jobits.pos.ui.configuracion.presenter.ImpresorasViewPresenter;
import com.jobits.pos.ui.configuracion.presenter.ReiniciarDatosViewPresenter;
import com.jobits.pos.ui.presenters.AbstractViewPresenter;
import com.jobits.ui.components.MaterialComponentsFactory;
import java.awt.Dimension;
import java.awt.Toolkit;

/**
 *
 * @author Jorge
 */
public class ConfiguracionView extends AbstractViewPanel {

    public static final String VIEW_NAME = "Configuración";

    public ConfiguracionView(AbstractViewPresenter presenter) {
        super(presenter);

    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanelY = new javax.swing.JPanel();
        jPanelPorcientoEstimado = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        jSpinnerM = new javax.swing.JSpinner();
        jLabel13 = new javax.swing.JLabel();
        jSpinnerC = new javax.swing.JSpinner();
        jPanel3 = new javax.swing.JPanel();
        jPanelExcluir = new javax.swing.JPanel();
        jPanelBebidas = new javax.swing.JPanel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel12 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        jButtonCancelar = MaterialComponentsFactory.Buttons.getLinedButton();
        jButtonAceptar = MaterialComponentsFactory.Buttons.getAcceptButton();

        jPanelY.setLayout(new java.awt.BorderLayout());

        jPanelPorcientoEstimado.setOpaque(false);

        jLabel12.setText("M");
        jPanelPorcientoEstimado.add(jLabel12);

        jSpinnerM.setModel(new javax.swing.SpinnerNumberModel(0, 0, 100, 5));
        jPanelPorcientoEstimado.add(jSpinnerM);

        jLabel13.setText("C");
        jPanelPorcientoEstimado.add(jLabel13);

        jSpinnerC.setModel(new javax.swing.SpinnerNumberModel(0, 0, 50, 5));
        jPanelPorcientoEstimado.add(jSpinnerC);

        jPanelY.add(jPanelPorcientoEstimado, java.awt.BorderLayout.PAGE_START);

        jPanel3.setLayout(new javax.swing.BoxLayout(jPanel3, javax.swing.BoxLayout.LINE_AXIS));

        jPanelExcluir.setBorder(javax.swing.BorderFactory.createTitledBorder("Excluir"));
        jPanelExcluir.setPreferredSize(new java.awt.Dimension(0, 0));
        jPanelExcluir.setLayout(new java.awt.BorderLayout());
        jPanel3.add(jPanelExcluir);

        jPanelBebidas.setBorder(javax.swing.BorderFactory.createTitledBorder("Bebidas"));
        jPanelBebidas.setPreferredSize(new java.awt.Dimension(0, 0));
        jPanelBebidas.setLayout(new java.awt.BorderLayout());
        jPanel3.add(jPanelBebidas);

        jPanelY.add(jPanel3, java.awt.BorderLayout.CENTER);

        setPreferredSize(new java.awt.Dimension(750, 650));
        setLayout(new javax.swing.BoxLayout(this, javax.swing.BoxLayout.PAGE_AXIS));

        jTabbedPane1.setPreferredSize(screenHeight(0.75));
        add(jTabbedPane1);

        jPanel12.setLayout(new java.awt.BorderLayout());

        jPanel1.setMinimumSize(new java.awt.Dimension(138, 60));

        jButtonCancelar.setText("Cancelar");
        jButtonCancelar.setPreferredSize(new java.awt.Dimension(130, 50));
        jPanel1.add(jButtonCancelar);

        jButtonAceptar.setText("Guardar cambios");
        jButtonAceptar.setPreferredSize(new java.awt.Dimension(130, 50));
        jButtonAceptar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAceptarActionPerformed(evt);
            }
        });
        jPanel1.add(jButtonAceptar);

        jPanel12.add(jPanel1, java.awt.BorderLayout.SOUTH);

        add(jPanel12);
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonAceptarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAceptarActionPerformed
    }//GEN-LAST:event_jButtonAceptarActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButtonAceptar;
    private javax.swing.JButton jButtonCancelar;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanelBebidas;
    private javax.swing.JPanel jPanelExcluir;
    private javax.swing.JPanel jPanelPorcientoEstimado;
    private javax.swing.JPanel jPanelY;
    private javax.swing.JSpinner jSpinnerC;
    private javax.swing.JSpinner jSpinnerM;
    private javax.swing.JTabbedPane jTabbedPane1;
    // End of variables declaration//GEN-END:variables

    private void validateData() {
        //getController().getConfiguracionY().setC(new Integer((int) jSpinnerC.getValue()).byteValue());
        //getController().getConfiguracionY().setM(new Integer((int) jSpinnerM.getValue()).byteValue());
        //getController().getConfiguracionY().setBebidas(bebida.getListModel().getElements());
        //getController().getConfiguracionY().setExcluidos(excluir.getListModel().getElements());
        //getController().updateConfiguracionY(getController().getConfiguracionY());

    }

    @Override
    public void wireUp() {
        // Bindings.bind(jSpinner1, "value", getPresenter().getModel(R.SettingID.SINCRONIZACION_TIEMPO_LOOP.toString()));
        jButtonAceptar.setAction(getPresenter().getOperation(ConfigurationViewPresenter.ACTION_APPLY));
        jButtonCancelar.setAction(getPresenter().getOperation(ConfigurationViewPresenter.ACTION_CANCEL));

    }

    @Override
    public void uiInit() {
        initComponents();
        jTabbedPane1.add("Generales", new Generales(presenter));
        jTabbedPane1.add("Sync", new Sincronizacion(presenter));
        jTabbedPane1.add("Impresión", new Impresion(presenter));
        jTabbedPane1.add("ImportarExportar", new ImportarExportar(new ImportarExportarViewPresenter(new ProductoVentaListController())));
        jTabbedPane1.add("Impresoras", new Impresoras(new ImpresorasViewPresenter(new ImpresoraUseCase(new ImpresoraRepoImpl()))));
        jTabbedPane1.add("Reiniciar Datos", new ReiniciarDatosView(new ReiniciarDatosViewPresenter()));
    }

    @Override
    public String getViewName() {
        return VIEW_NAME;
    }

    private Dimension screenHeight(Double x) {
        int height = Toolkit.getDefaultToolkit().getScreenSize().height;
        int i = (int) (height * x);

        return new Dimension(0, i);
    }

}
